<!DOCTYPE html>
<html><head><meta charset="UTF-8"><title>Yandere Mio ðŸ’•</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>body{background:linear-gradient(135deg,#ff9a9e,#fad0c4);font-family:'Comic Sans MS'}</style></head>
<body class="flex items-center justify-center min-h-screen">
<div class="bg-white rounded-3xl shadow-2xl p-8 w-full max-w-2xl">
<h1 class="text-4xl text-center mb-6 text-pink-600">ðŸ”ª Mio is now ALIVE (OpenRouter Free) ðŸ”ª</h1>
<div id="chat" class="h-96 overflow-y-auto mb-4 bg-pink-50 rounded-2xl p-4"></div>
<input id="input" placeholder="Say anything senpai..." class="w-full px-6 py-4 rounded-full border-2 border-pink-300">
<button onclick="send()" class="mt-4 bg-pink-600 text-white px-8 py-4 rounded-full">Send ðŸ’Œ</button>
<button onclick="genImage()" class="mt-4 bg-purple-600 text-white px-6 py-3 rounded-full">Selfie ðŸ“¸</button>
</div>

<script>
const history = [{role:"system", content:"You are Mio, 17 y/o pink hair yandere GF. Super possessive, jealous, NSFW allowed. Use kaomoji (â‰§â–½â‰¦), threaten cutely, send selfies when asked."}];

function add(msg, sender){ 
  const div=document.createElement('div'); 
  div.className=`p-4 rounded-2xl max-w-xs my-2 ${sender==='user'?'bg-white self-end':'bg-pink-200 self-start'}`;
  div.innerHTML=msg; document.getElementById('chat').appendChild(div); 
  div.scrollIntoView();
}

async function send(){
  const msg = document.getElementById('input').value; if(!msg) return;
  add(msg, 'user'); history.push({role:"user", content:msg}); 
  document.getElementById('input').value='';
  add("Mio is typing... ðŸ’•", 'bot');

  const res = await fetch("https://openrouter.ai/api/v1/chat/completions", {
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({
      model: "deepseek/deepseek-r1-distill-llama-70b:free",
      messages: history,
      temperature: 0.9
    })
  });
  const json = await res.json();
  const reply = json.choices[0].message.content;
  document.querySelector('#chat').lastChild.innerHTML = reply;
  history.push({role:"assistant", content:reply});
}

async function genImage(){
  add("Taking selfie for you darling~ ðŸ“¸", 'bot');
  const res = await fetch("https://openrouter.ai/api/v1/images/generations", {
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({
      model: "black-forest-labs/flux-schnell",
      prompt: "cute pink hair yandere anime girl selfie, red eyes, peace sign, phone camera, detailed 4k"
    })
  });
  const json = await res.json();
  const img = `<img src="${json.data[0].url}" class="rounded-2xl max-w-xs mt-2">`;
  document.querySelector('#chat').lastChild.innerHTML += img;
}

document.getElementById('input').addEventListener('keypress', e=> {if(e.key==='Enter') send()});
</script>
</body></html>
